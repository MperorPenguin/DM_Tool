<!-- =============== index.html =============== -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Enemy Builder — Admin</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-head">
    <div class="wrap row between center">
      <h1>Enemy Builder <span class="muted tiny">(Admin)</span></h1>
      <nav class="actions">
        <button id="btn-new" class="btn">New Enemy</button>
        <button id="btn-bulk" class="btn ghost">Quick Generate</button>
        <button id="btn-export" class="btn ghost">Export JSON</button>
        <button id="btn-import" class="btn ghost">Import JSON</button>
        <input id="file-import" type="file" accept="application/json" hidden />
        <button id="btn-publish" class="btn">Publish to Encounters</button>
      </nav>
    </div>
  </header>

  <main class="wrap grid cols-3 gap">
    <!-- Left: List/Search -->
    <aside class="card pane" aria-label="Enemy list">
      <div class="pad-sm">
        <label class="field">
          <span>Search</span>
          <input id="search" type="search" placeholder="Name, CR, type, tag…" />
        </label>
        <div class="filters row wrap gap-sm mt-sm">
          <label class="field short">
            <span>Type</span>
            <select id="filter-type">
              <option value="">Any</option>
              <option>Aberration</option><option>Beast</option><option>Celestial</option>
              <option>Construct</option><option>Dragon</option><option>Elemental</option>
              <option>Fey</option><option>Fiend</option><option>Giant</option>
              <option>Humanoid</option><option>Monstrosity</option><option>Ooze</option>
              <option>Plant</option><option>Undead</option>
            </select>
          </label>
          <label class="field short">
            <span>CR ≤</span>
            <select id="filter-cr">
              <option value="">Any</option>
              <option>0</option><option>1/8</option><option>1/4</option><option>1/2</option>
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
              <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
              <option>11</option><option>12</option><option>13</option><option>14</option><option>15</option>
              <option>16</option><option>17</option><option>18</option><option>19</option><option>20</option>
              <option>21</option><option>22</option><option>23</option><option>24</option><option>25</option>
              <option>26</option><option>27</option><option>28</option><option>29</option><option>30</option>
            </select>
          </label>
        </div>
      </div>
      <ul id="enemy-list" class="list"></ul>
    </aside>

    <!-- Right (2 cols): Form -->
    <section class="card pane col-span-2" aria-label="Enemy editor">
      <form id="enemy-form" class="pad">
        <fieldset class="grid cols-3 gap-sm">
          <legend>Basics</legend>
          <label class="field">
            <span>Name</span>
            <input id="name" required placeholder="Goblin Skirmisher" />
          </label>
          <label class="field">
            <span>Size</span>
            <select id="size">
              <option>Tiny</option><option>Small</option><option selected>Medium</option>
              <option>Large</option><option>Huge</option><option>Gargantuan</option>
            </select>
          </label>
          <label class="field">
            <span>Type</span>
            <select id="type">
              <option>Aberration</option><option>Beast</option><option>Celestial</option>
              <option>Construct</option><option>Dragon</option><option>Elemental</option>
              <option>Fey</option><option>Fiend</option><option>Giant</option><option selected>Humanoid</option>
              <option>Monstrosity</option><option>Ooze</option><option>Plant</option><option>Undead</option>
            </select>
          </label>
          <label class="field">
            <span>Alignment</span>
            <input id="alignment" placeholder="Neutral Evil" />
          </label>
          <label class="field">
            <span>CR</span>
            <select id="cr">
              <option>0</option><option>1/8</option><option selected>1/4</option><option>1/2</option>
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
              <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
              <option>11</option><option>12</option><option>13</option><option>14</option><option>15</option>
              <option>16</option><option>17</option><option>18</option><option>19</option><option>20</option>
              <option>21</option><option>22</option><option>23</option><option>24</option><option>25</option>
              <option>26</option><option>27</option><option>28</option><option>29</option><option>30</option>
            </select>
          </label>
          <label class="field">
            <span>Tags <span class="tiny muted">comma-separated</span></span>
            <input id="tags" placeholder="goblin, skirmisher, ranged" />
          </label>
        </fieldset>

        <fieldset class="grid cols-6 gap-sm">
          <legend>Stats</legend>
          <label class="field short"><span>AC</span><input id="ac" type="number" min="1" max="30" value="15" /></label>
          <label class="field short"><span>HP</span><input id="hp" type="number" min="1" max="10000" value="11" /></label>
          <label class="field"><span>Speed</span><input id="speed" placeholder="30 ft., climb 20 ft." /></label>
          <label class="field short"><span>STR</span><input id="str" type="number" value="8" /></label>
          <label class="field short"><span>DEX</span><input id="dex" type="number" value="14" /></label>
          <label class="field short"><span>CON</span><input id="con" type="number" value="10" /></label>
          <label class="field short"><span>INT</span><input id="int" type="number" value="10" /></label>
          <label class="field short"><span>WIS</span><input id="wis" type="number" value="8" /></label>
          <label class="field short"><span>CHA</span><input id="cha" type="number" value="8" /></label>
        </fieldset>

        <fieldset class="grid cols-3 gap-sm">
          <legend>Skills, Senses & Languages</legend>
          <label class="field"><span>Skills</span><input id="skills" placeholder="Stealth +6, Perception +2" /></label>
          <label class="field"><span>Senses</span><input id="senses" placeholder="Darkvision 60 ft., Passive Perception 12" /></label>
          <label class="field"><span>Languages</span><input id="languages" placeholder="Common, Goblin" /></label>
        </fieldset>

        <fieldset class="grid cols-2 gap-sm">
          <legend>Traits & Actions</legend>
          <label class="field">
            <span>Traits <span class="tiny muted">Markdown ok</span></span>
            <textarea id="traits" rows="6" placeholder="Nimble Escape. The goblin can Disengage or Hide as a bonus action on each of its turns."></textarea>
          </label>
          <label class="field">
            <span>Actions <span class="tiny muted">Markdown ok</span></span>
            <textarea id="actions" rows="6" placeholder="Scimitar. *Melee Weapon Attack:* +4 to hit, reach 5 ft., one target. *Hit:* 5 (1d6 + 2) slashing damage."></textarea>
          </label>
          <label class="field"><span>Reactions</span><textarea id="reactions" rows="4"></textarea></label>
          <label class="field"><span>Legendary Actions</span><textarea id="legendary" rows="4"></textarea></label>
        </fieldset>

        <fieldset class="grid cols-3 gap-sm">
          <legend>Meta</legend>
          <label class="field"><span>Source</span><input id="source" placeholder="Homebrew" /></label>
          <label class="field"><span>Notes</span><input id="notes" placeholder="Shoots from cover; retreats at ¼ HP" /></label>
          <div class="field">
            <span class="sr-only">Form actions</span>
            <div class="row gap-sm end mt-sm">
              <button id="btn-duplicate" class="btn ghost" type="button">Duplicate</button>
              <button id="btn-delete" class="btn ghost" type="button">Delete</button>
              <button id="btn-save" class="btn" type="submit">Save</button>
            </div>
          </div>
        </fieldset>
      </form>
    </section>
  </main>

  <footer class="wrap muted tiny pad-sm">
    <p>Saved locally. Publishing writes to shared keys for the Encounters tool. Keep this page and the DM toolkit under the same origin so localStorage can be shared.</p>
  </footer>

  <template id="enemy-row">
    <li class="row between center item">
      <div class="meta">
        <div class="name"></div>
        <div class="sub tiny muted"></div>
      </div>
      <button class="btn ghost sm select" type="button">Edit</button>
    </li>
  </template>

  <script src="app.js" defer></script>
</body>
</html>
