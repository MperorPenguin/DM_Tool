@import url("../CSS/theme.css");

/* legacy aliases if older utilities are present */
:root{
  --lime-green:    var(--color-primary);
  --lime-600:      var(--color-primary-600);
  --lime-700:      var(--color-primary-700);
  --midnight-blue: var(--color-surface-1);
  --text:          var(--color-text);
  --border:        var(--color-border);
  --panel:         var(--color-surface-2);
}

html, body { background: var(--color-surface-1); color: var(--color-text); font-family: var(--font-body); }

.wrap { max-width: 1200px; margin: 0 auto; padding: 16px; }

/* Header */
.docs-header {
  border-bottom: 1px solid var(--color-border);
  background: var(--color-surface-1);
  position: sticky; top: 0; z-index: 10;
}
.docs-header .wrap { display: grid; grid-template-columns: 1fr auto; gap: 12px; align-items: center; }
.title { margin: 0; font-size: 1.6rem; }
.meta { display: flex; gap: 8px; align-items: center; }
.badge {
  display: inline-block; padding: 2px 8px; border-radius: 999px;
  background: color-mix(in srgb, var(--color-primary) 25%, transparent);
  border: 1px solid var(--color-primary-600);
  font-size: .85rem; color: var(--color-text);
}
.muted { opacity: .8; }
.actions { display: flex; gap: 8px; }

/* Grid */
.docs-grid { display: grid; grid-template-columns: 280px 1fr; gap: 16px; }
@media (max-width: 960px){
  .docs-grid { grid-template-columns: 1fr; }
  .toc { order: 2; }
}

/* TOC */
.toc { position: relative; }
.toc-inner {
  position: sticky; top: 72px;
  background: var(--color-surface-2);
  border: 1px solid var(--color-border);
  border-radius: 10px; padding: 12px;
}
.search {
  width: 100%; padding: 10px; margin-bottom: 10px;
  background: var(--input-bg); color: var(--color-text);
  border: 1px solid var(--color-border); border-radius: 10px;
}
.toc-list a {
  display: block; padding: 8px 10px; border-radius: 8px; text-decoration: none;
  color: var(--color-text); border: 1px solid transparent;
}
.toc-list a[aria-current="true"] { border-color: var(--color-primary); }
.toc-helpers { display: flex; gap: 8px; margin-top: 10px; }

/* Doc */
.doc {
  background: var(--color-surface-2);
  border: 1px solid var(--color-border);
  border-radius: 12px; padding: 16px;
}
.doc h2 { scroll-margin-top: 96px; display: flex; align-items: center; gap: 8px; }
.doc h2 .anchor {
  font-size: 0.9rem; opacity: 0.8; text-decoration: none; border-bottom: 1px dotted var(--color-border);
}
.doc section + section { margin-top: 24px; }

/* Details blocks */
details {
  background: color-mix(in srgb, var(--color-surface-2) 100%, black 0%);
  border: 1px solid var(--color-border);
  border-radius: 10px; padding: 8px 10px; margin: 12px 0;
}
summary { cursor: pointer; font-weight: 600; }
details[open] { border-color: var(--color-primary-600); }

/* Buttons (use project tokens) */
.btn, button {
  background: var(--color-primary);
  color: #0b0b0b;
  border: 1px solid transparent;
  border-radius: 10px; padding: 8px 12px; cursor: pointer;
}
.btn:hover   { background: var(--color-primary-600); }
.btn:active  { background: var(--color-primary-700); }
.btn:focus-visible { outline: 2px solid var(--color-primary); outline-offset: 2px; }

.btn.ghost {
  background: transparent; color: var(--color-primary); border: 1px solid var(--color-primary);
}
.btn.ghost:hover { background: color-mix(in srgb, var(--color-primary) 12%, transparent); }

/* Code & kbd */
code, kbd { background: var(--input-bg); border: 1px solid var(--color-border); border-radius: 6px; padding: 0 4px; }
pre { background: var(--input-bg); border: 1px solid var(--color-border); border-radius: 10px; padding: 12px; overflow: auto; }
kbd { font-weight: 700; }

/* Callouts & legal cards */
.callout { border: 1px solid var(--color-border); border-radius: 10px; padding: 10px; margin: 8px 0; }
.callout.info { background: color-mix(in srgb, var(--color-primary) 10%, var(--color-surface-2)); }
.callout.warn { background: color-mix(in srgb, #f7c948 14%, var(--color-surface-2)); color: #1b1b1b; }
.legal-card { border: 1px dashed var(--color-primary-600); border-radius: 12px; padding: 12px; }

/* Search highlighting */
mark { background: color-mix(in srgb, var(--color-primary) 30%, transparent); padding: 0 2px; border-radius: 3px; }

/* Footer */
.doc-footer { margin-top: 32px; font-size: 0.9rem; opacity: 0.8; }

/* Print (for “Save as PDF”) */
@media print {
  .docs-header, .toc { display: none !important; }
  .doc { border: none; background: #fff; color: #000; }
  :root { --color-text: #000; }
}